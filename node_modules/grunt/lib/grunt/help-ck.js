/*
 * grunt
 * http://gruntjs.com/
 *
 * Copyright (c) 2014 "Cowboy" Ben Alman
 * Licensed under the MIT license.
 * https://github.com/gruntjs/grunt/blob/master/LICENSE-MIT
 */"use strict";var grunt=require("../grunt"),path=require("path"),col1len=0;exports.initCol1=function(e){col1len=Math.max(col1len,e.length)};exports.initWidths=function(){exports.widths=[1,col1len,2,76-col1len]};exports.table=function(e){e.forEach(function(e){grunt.log.writetableln(exports.widths,["",grunt.util._.pad(e[0],col1len),"",e[1]])})};exports.queue=["initOptions","initTasks","initWidths","header","usage","options","optionsFooter","tasks","footer"];exports.display=function(){exports.queue.forEach(function(e){exports[e]()})};exports.header=function(){grunt.log.writeln("Grunt: The JavaScript Task Runner (v"+grunt.version+")")};exports.usage=function(){grunt.log.header("Usage");grunt.log.writeln(" "+path.basename(process.argv[1])+" [options] [task [task ...]]")};exports.initOptions=function(){exports._options=Object.keys(grunt.cli.optlist).map(function(e){var t=grunt.cli.optlist[e],n="--"+(t.negate?"no-":"")+e+(t.short?", -"+t.short:"");exports.initCol1(n);return[n,t.info]})};exports.options=function(){grunt.log.header("Options");exports.table(exports._options)};exports.optionsFooter=function(){grunt.log.writeln().writelns("Options marked with * have methods exposed via the grunt API and should instead be specified inside the Gruntfile wherever possible.")};exports.initTasks=function(){grunt.task.init([],{help:!0});exports._tasks=[];Object.keys(grunt.task._tasks).forEach(function(e){exports.initCol1(e);var t=grunt.task._tasks[e];exports._tasks.push(t)})};exports.tasks=function(){grunt.log.header("Available tasks");if(exports._tasks.length===0)grunt.log.writeln("(no tasks found)");else{exports.table(exports._tasks.map(function(e){var t=e.info;e.multi&&(t+=" *");return[e.name,t]}));grunt.log.writeln().writelns('Tasks run in the order specified. Arguments may be passed to tasks that accept them by using colons, like "lint:files". Tasks marked with * are "multi tasks" and will iterate over all sub-targets if no argument is specified.')}grunt.log.writeln().writelns("The list of available tasks may change based on tasks directories or grunt plugins specified in the Gruntfile or via command-line options.")};exports.footer=function(){grunt.log.writeln().writeln("For more information, see http://gruntjs.com/")};