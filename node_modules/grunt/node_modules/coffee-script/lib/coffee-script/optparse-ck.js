// Generated by CoffeeScript 1.3.3
(function(){var e,t,n,r,i,s,o,u;exports.OptionParser=r=function(){function t(e,t){this.banner=t;this.rules=o(e)}t.prototype.parse=function(t){var n,r,s,o,a,f,l,c,h,p,d,v,m,g,y,b;a={arguments:[]};p=!1;f=t;t=u(t);for(r=v=0,g=t.length;v<g;r=++v){n=t[r];if(p){p=!1;continue}if(n==="--"){l=f.indexOf("--");a.arguments=a.arguments.concat(f.slice(l+1));break}s=!!n.match(e)||!!n.match(i);h=a.arguments.length>0;if(!h){o=!1;b=this.rules;for(m=0,y=b.length;m<y;m++){c=b[m];if(c.shortFlag===n||c.longFlag===n){d=!0;if(c.hasArgument){p=!0;d=t[r+1]}a[c.name]=c.isList?(a[c.name]||[]).concat(d):d;o=!0;break}}if(s&&!o)throw new Error("unrecognized option: "+n)}(h||!s)&&a.arguments.push(n)}return a};t.prototype.help=function(){var e,t,n,r,i,s,o;t=[];this.banner&&t.unshift(""+this.banner+"\n");o=this.rules;for(i=0,s=o.length;i<s;i++){n=o[i];r=15-n.longFlag.length;r=r>0?Array(r+1).join(" "):"";e=n.shortFlag?n.shortFlag+", ":"    ";t.push("  "+e+n.longFlag+r+n.description)}return"\n"+t.join("\n")+"\n"};return t}();e=/^(--\w[\w\-]*)/;i=/^(-\w)$/;t=/^-(\w{2,})/;n=/\[(\w+(\*?))\]/;o=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++){t=e[n];t.length<3&&t.unshift(null);i.push(s.apply(null,t))}return i};s=function(t,r,i,s){var o;s==null&&(s={});o=r.match(n);r=r.match(e)[1];return{name:r.substr(2),shortFlag:t,longFlag:r,description:i,hasArgument:!!o&&!!o[1],isList:!!o&&!!o[2]}};u=function(e){var n,r,i,s,o,u,a,f,l;e=e.slice(0);s=[];for(o=0,a=e.length;o<a;o++){n=e[o];if(i=n.match(t)){l=i[1].split("");for(u=0,f=l.length;u<f;u++){r=l[u];s.push("-"+r)}}else s.push(n)}return s}}).call(this);