function generateCharsString(e){console.log("Generate encoding for "+e);var t=new Iconv(e,"UTF-8"),n="";for(var r=128;r<256;r++){try{var i=t.convert(new Buffer([r])).toString();if(i.length!=1)throw new Error("Single-byte encoding error: Must return single char.")}catch(s){if(s.code!=="EILSEQ")throw s;i="ï¿½"}n+=i}return n}var fs=require("fs"),Iconv=require("iconv").Iconv,encodingFamilies=[{encodings:[1250,1251,1252,1253,1254,1255,1256,1257,1258],convert:function(e){return{name:"windows-"+e,aliases:["win"+e,"cp"+e,""+e]}}},{encodings:[1,2,3,4,5,6,7,8,9,10,11,13,14,15,16],convert:function(e){return{name:"iso-8859-"+e,aliases:["cp"+(28590+e),28590+e]}}},{encodings:[437,737,775,850,852,855,857,858,860,861,862,863,864,865,866,869],convert:function(e){return{name:"CP"+e,aliases:["ibm"+e,""+e]}}},{encodings:["macCroatian","macCyrillic","macGreek","macIceland","macRoman","macRomania","macThai","macTurkish","macUkraine"]},{encodings:["KOI8-R","KOI8-U"]}],encodings={ascii8bit:"ascii",usascii:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",cp819:"iso88951",arabic:"iso88596",arabic8:"iso88596",greek:"iso88597",greek8:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",tis620:"iso885911",windows874:"iso885911",win874:"iso885911",cp874:"iso885911",874:"iso885911",celtic:"iso885914",celtic8:"iso885914",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u"};encodingFamilies.forEach(function(e){e.encodings.forEach(function(t){e.convert&&(t=e.convert(t));var n=t.name?t.name:t,r=n.replace(/[-_]/g,"").toLowerCase();encodings[r]={type:"singlebyte",chars:generateCharsString(n)};t.aliases&&t.aliases.forEach(function(e){encodings[e]=r})})});fs.writeFileSync("encodings/singlebyte.js","module.exports = "+JSON.stringify(encodings,undefined,"  ")+";");