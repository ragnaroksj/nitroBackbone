"use strict";function Mark(e,t,n,r,i){this.name=e;this.buffer=t;this.position=n;this.line=r;this.column=i}var common=require("./common");Mark.prototype.getSnippet=function(t,n){var r,i,s,o,u;if(!this.buffer)return null;t=t||4;n=n||75;r="";i=this.position;while(i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1))){i-=1;if(this.position-i>n/2-1){r=" ... ";i+=5;break}}s="";o=this.position;while(o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o))){o+=1;if(o-this.position>n/2-1){s=" ... ";o-=5;break}}u=this.buffer.slice(i,o);return common.repeat(" ",t)+r+u+s+"\n"+common.repeat(" ",t+this.position-i+r.length)+"^"};Mark.prototype.toString=function e(e){var t,n="";this.name&&(n+='in "'+this.name+'" ');n+="at line "+(this.line+1)+", column "+(this.column+1);if(!e){t=this.getSnippet();t&&(n+=":\n"+t)}return n};module.exports=Mark;