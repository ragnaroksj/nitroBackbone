function which(e,t){if(isAbsolute(e))return t(null,e);var n=(process.env.PATH||"").split(COLON),r=[""];if(process.platform==="win32"){n.push(process.cwd());r=(process.env.PATHEXT||".EXE").split(COLON);e.indexOf(".")!==-1&&r.unshift("")}(function i(s,o){if(s===o)return t(new Error("not found: "+e));var u=path.resolve(n[s],e);(function a(e,n){if(e===n)return i(s+1,o);var f=r[e];fs.stat(u+f,function(r,i){return!r&&i&&i.isFile()&&isExe(i.mode,i.uid,i.gid)?t(null,u+f):a(e+1,n)})})(0,r.length)})(0,n.length)}function whichSync(e){if(isAbsolute(e))return e;var t=(process.env.PATH||"").split(COLON),n=[""];if(process.platform==="win32"){t.push(process.cwd());n=(process.env.PATHEXT||".EXE").split(COLON);e.indexOf(".")!==-1&&n.unshift("")}for(var r=0,i=t.length;r<i;r++){var s=path.join(t[r],e);for(var o=0,u=n.length;o<u;o++){var a=s+n[o],f;try{f=fs.statSync(a)}catch(l){}if(f&&f.isFile()&&isExe(f.mode,f.uid,f.gid))return a}}throw new Error("not found: "+e)}function absWin(e){if(absUnix(e))return!0;var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?([\\\/])?/,n=t.exec(e),r=n[1]||"",i=r&&r.charAt(1)!==":",s=!!n[2]||i;return s}function absUnix(e){return e.charAt(0)==="/"||e===""}module.exports=which;which.sync=whichSync;var path=require("path"),fs,COLON=process.platform==="win32"?";":":",isExe;try{fs=require("graceful-fs")}catch(ex){fs=require("fs")}process.platform=="win32"?isExe=function(){return!0}:isExe=function(t,n,r){var i=t&1||t&8&&process.getgid&&r===process.getgid()||t&64&&process.getuid&&n===process.getuid();return i};var isAbsolute=process.platform==="win32"?absWin:absUnix;