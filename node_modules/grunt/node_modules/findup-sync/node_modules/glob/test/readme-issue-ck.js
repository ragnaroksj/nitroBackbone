var test=require("tap").test,glob=require("../"),mkdirp=require("mkdirp"),fs=require("fs"),rimraf=require("rimraf"),dir=__dirname+"/package";test("setup",function(e){mkdirp.sync(dir);fs.writeFileSync(dir+"/package.json","{}","ascii");fs.writeFileSync(dir+"/README","x","ascii");e.pass("setup done");e.end()});test("glob",function(e){var t={cwd:dir,nocase:!0,mark:!0};glob("README?(.*)",t,function(t,n){if(t)throw t;e.same(n,["README"]);e.end()})});test("cleanup",function(e){rimraf.sync(dir);e.pass("clean");e.end()});